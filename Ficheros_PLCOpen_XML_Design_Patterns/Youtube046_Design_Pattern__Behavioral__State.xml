<?xml version="1.0" encoding="utf-8"?>
<project xmlns="http://www.plcopen.org/xml/tc6_0200">
  <fileHeader companyName="Beckhoff Automation GmbH" productName="TwinCAT PLC Control" productVersion="3.5.13.21" creationDateTime="2024-02-04T12:47:55.1017949" />
  <contentHeader name="state" modificationDateTime="2024-02-04T12:47:55.1086252">
    <coordinateInfo>
      <fbd>
        <scaling x="1" y="1" />
      </fbd>
      <ld>
        <scaling x="1" y="1" />
      </ld>
      <sfc>
        <scaling x="1" y="1" />
      </sfc>
    </coordinateInfo>
    <addData>
      <data name="http://www.3s-software.com/plcopenxml/projectinformation" handleUnknown="implementation">
        <ProjectInformation />
      </data>
    </addData>
  </contentHeader>
  <types>
    <dataTypes />
    <pous />
  </types>
  <instances>
    <configurations />
  </instances>
  <addData>
    <data name="http://www.3s-software.com/plcopenxml/application" handleUnknown="implementation">
      <resource name="state">
        <task name="PlcTask" interval="PT0S" priority="20">
          <pouInstance name="MAIN" typeName="">
            <documentation>
              <xhtml xmlns="http://www.w3.org/1999/xhtml" />
            </documentation>
          </pouInstance>
          <addData>
            <data name="http://www.3s-software.com/plcopenxml/tasksettings" handleUnknown="implementation">
              <TaskSettings KindOfTask="Cyclic" Interval="10000" IntervalUnit="us">
                <Watchdog Enabled="false" TimeUnit="ms" />
              </TaskSettings>
            </data>
            <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
              <ObjectId>b9330d17-e98d-4967-8ae3-7c46b8ec3f29</ObjectId>
            </data>
          </addData>
        </task>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/datatype" handleUnknown="implementation">
            <dataType name="E_StateDescription">
              <baseType>
                <enum>
                  <values>
                    <value name="Undefined" value="0" />
                    <value name="Off" value="10" />
                    <value name="SelfTest" value="20" />
                    <value name="Maintenance" value="30" />
                    <value name="OutOfService" value="40" />
                    <value name="Idle" value="50" />
                    <value name="ServingCustomer" value="60" />
                  </values>
                </enum>
              </baseType>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                    <Attribute Name="qualified_only" Value="" />
                    <Attribute Name="strict" Value="" />
                  </Attributes>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/interfaceasplaintext" handleUnknown="implementation">
                  <InterfaceAsPlainText>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">{attribute 'qualified_only'}
{attribute 'strict'}
TYPE E_StateDescription :
(
	Undefined		:= 0,
	Off				:= 10,
	SelfTest		:= 20,
	Maintenance 	:= 30,
	OutOfService 	:= 40,
	Idle			:= 50,
	ServingCustomer	:= 60
);
END_TYPE
</xhtml>
                  </InterfaceAsPlainText>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
                  <ObjectId>c7a59eda-44d9-04ee-31d3-5db7bf9ca168</ObjectId>
                </data>
              </addData>
            </dataType>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/interface" handleUnknown="implementation">
            <Interface name="I_Machine" ObjectId="385b02b8-4c90-000e-1cc0-d2b7bcb5e7fd">
              <Methods>
                <Method name="SetState" ObjectId="46908751-132f-0880-358e-7ccbcdf64bd8">
                  <interface>
                    <returnType>
                      <BOOL />
                    </returnType>
                    <inputVars>
                      <variable name="newState">
                        <type>
                          <derived name="I_State" />
                        </type>
                        <documentation>
                          <xhtml xmlns="http://www.w3.org/1999/xhtml"> Set the new state to transition</xhtml>
                        </documentation>
                      </variable>
                    </inputVars>
                    <addData>
                      <data name="http://www.3s-software.com/plcopenxml/accessmodifiers" handleUnknown="implementation">
                        <AccessModifiers Internal="true" />
                      </data>
                    </addData>
                  </interface>
                  <InterfaceAsPlainText>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD INTERNAL SetState : BOOL
VAR_INPUT
	// Set the new state to transition
	newState : I_State;
END_VAR
</xhtml>
                  </InterfaceAsPlainText>
                  <addData />
                </Method>
              </Methods>
              <Properties>
                <Property name="IdleState" ObjectId="69b94608-4c85-0594-2f63-027d0ebff1dc">
                  <interface>
                    <returnType>
                      <derived name="I_State" />
                    </returnType>
                  </interface>
                  <GetAccessor>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                    </InterfaceAsPlainText>
                  </GetAccessor>
                  <InterfaceAsPlainText>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY IdleState : I_State</xhtml>
                  </InterfaceAsPlainText>
                  <addData />
                </Property>
                <Property name="MaintenanceState" ObjectId="7ea3e2a0-a1cd-04e9-2fcc-b3f427d30be9">
                  <interface>
                    <returnType>
                      <derived name="I_State" />
                    </returnType>
                  </interface>
                  <GetAccessor>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                    </InterfaceAsPlainText>
                  </GetAccessor>
                  <InterfaceAsPlainText>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY MaintenanceState : I_State</xhtml>
                  </InterfaceAsPlainText>
                  <addData />
                </Property>
                <Property name="OffState" ObjectId="9d44e6c8-76c2-0ed9-3c52-a444909bd103">
                  <interface>
                    <returnType>
                      <derived name="I_State" />
                    </returnType>
                  </interface>
                  <GetAccessor>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                    </InterfaceAsPlainText>
                  </GetAccessor>
                  <InterfaceAsPlainText>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY OffState : I_State</xhtml>
                  </InterfaceAsPlainText>
                  <addData />
                </Property>
                <Property name="OutOfServiceState" ObjectId="098329d7-47ec-065b-15cd-fb3438283417">
                  <interface>
                    <returnType>
                      <derived name="I_State" />
                    </returnType>
                  </interface>
                  <GetAccessor>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                    </InterfaceAsPlainText>
                  </GetAccessor>
                  <InterfaceAsPlainText>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY OutOfServiceState : I_State</xhtml>
                  </InterfaceAsPlainText>
                  <addData />
                </Property>
                <Property name="SelfTestState" ObjectId="764b3441-ddda-0c54-35a6-c7b74e7e70a5">
                  <interface>
                    <returnType>
                      <derived name="I_State" />
                    </returnType>
                  </interface>
                  <GetAccessor>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                    </InterfaceAsPlainText>
                  </GetAccessor>
                  <InterfaceAsPlainText>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY SelfTestState : I_State</xhtml>
                  </InterfaceAsPlainText>
                  <addData />
                </Property>
                <Property name="ServingCustomerState" ObjectId="2a88a98c-ad0b-0838-1b96-9abe0eeeb986">
                  <interface>
                    <returnType>
                      <derived name="I_State" />
                    </returnType>
                  </interface>
                  <GetAccessor>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                    </InterfaceAsPlainText>
                  </GetAccessor>
                  <InterfaceAsPlainText>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY ServingCustomerState : I_State</xhtml>
                  </InterfaceAsPlainText>
                  <addData />
                </Property>
              </Properties>
              <InterfaceAsPlainText>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">INTERFACE I_Machine
</xhtml>
              </InterfaceAsPlainText>
              <addData />
            </Interface>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/interface" handleUnknown="implementation">
            <Interface name="I_State" ObjectId="a1c71530-fa84-0bb0-3283-cd1f622ad3a9">
              <Methods>
                <Method name="Cancel" ObjectId="f6bb5175-37f0-0176-291d-a4d7620ac1d5">
                  <interface>
                    <returnType>
                      <BOOL />
                    </returnType>
                  </interface>
                  <InterfaceAsPlainText>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Cancel : BOOL
VAR_INPUT
END_VAR
</xhtml>
                  </InterfaceAsPlainText>
                  <addData />
                </Method>
                <Method name="Card_Ejected" ObjectId="2a05fd73-eee8-07e4-06be-b024194c550e">
                  <interface>
                    <returnType>
                      <BOOL />
                    </returnType>
                  </interface>
                  <InterfaceAsPlainText>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Card_Ejected : BOOL
VAR_INPUT
END_VAR
</xhtml>
                  </InterfaceAsPlainText>
                  <addData />
                </Method>
                <Method name="Card_Inserted" ObjectId="b2d4e578-f718-0e93-0b18-a80f84b9017f">
                  <interface>
                    <returnType>
                      <BOOL />
                    </returnType>
                  </interface>
                  <InterfaceAsPlainText>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Card_Inserted : BOOL
VAR_INPUT
END_VAR
</xhtml>
                  </InterfaceAsPlainText>
                  <addData />
                </Method>
                <Method name="Failure" ObjectId="21c6a420-876b-0f5b-241e-27ee63e097b3">
                  <interface>
                    <returnType>
                      <BOOL />
                    </returnType>
                  </interface>
                  <InterfaceAsPlainText>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Failure : BOOL
VAR_INPUT
END_VAR
</xhtml>
                  </InterfaceAsPlainText>
                  <addData />
                </Method>
                <Method name="Op" ObjectId="3a5100e4-d2c3-0577-3937-c05a43814309">
                  <interface>
                    <returnType>
                      <BOOL />
                    </returnType>
                  </interface>
                  <InterfaceAsPlainText>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Op : BOOL
VAR_INPUT
END_VAR
</xhtml>
                  </InterfaceAsPlainText>
                  <addData />
                </Method>
                <Method name="Service" ObjectId="94cbab84-9e89-079e-1c59-18b9122a858e">
                  <interface>
                    <returnType>
                      <BOOL />
                    </returnType>
                  </interface>
                  <InterfaceAsPlainText>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Service : BOOL
VAR_INPUT
END_VAR
</xhtml>
                  </InterfaceAsPlainText>
                  <addData />
                </Method>
                <Method name="SystemTest_OK" ObjectId="66832ca6-a287-098d-31cb-ca7c9c991d32">
                  <interface>
                    <returnType>
                      <BOOL />
                    </returnType>
                  </interface>
                  <InterfaceAsPlainText>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD SystemTest_OK : BOOL
VAR_INPUT
END_VAR
</xhtml>
                  </InterfaceAsPlainText>
                  <addData />
                </Method>
                <Method name="Turn_Off" ObjectId="57f5bb9a-c5f8-0ce1-0804-28a0bdf1434e">
                  <interface>
                    <returnType>
                      <BOOL />
                    </returnType>
                  </interface>
                  <InterfaceAsPlainText>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Turn_Off : BOOL
VAR_INPUT
END_VAR
</xhtml>
                  </InterfaceAsPlainText>
                  <addData />
                </Method>
                <Method name="Turn_On" ObjectId="6119d6b8-41b5-08be-17d1-44b4e801e015">
                  <interface>
                    <returnType>
                      <BOOL />
                    </returnType>
                  </interface>
                  <InterfaceAsPlainText>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Turn_On : BOOL
VAR_INPUT
END_VAR
</xhtml>
                  </InterfaceAsPlainText>
                  <addData />
                </Method>
              </Methods>
              <Properties>
                <Property name="Description" ObjectId="44bc2097-a004-0b24-1095-c71e11eeaf2b">
                  <interface>
                    <returnType>
                      <derived name="E_StateDescription" />
                    </returnType>
                  </interface>
                  <GetAccessor>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                    </InterfaceAsPlainText>
                  </GetAccessor>
                  <InterfaceAsPlainText>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY Description : E_StateDescription</xhtml>
                  </InterfaceAsPlainText>
                  <addData />
                </Property>
              </Properties>
              <InterfaceAsPlainText>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">INTERFACE I_State
</xhtml>
              </InterfaceAsPlainText>
              <addData />
            </Interface>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/pou" handleUnknown="implementation">
            <pou name="FB_ATM_Machine" pouType="functionBlock">
              <interface>
                <inOutVars>
                  <variable name="xOnButton">
                    <type>
                      <BOOL />
                    </type>
                  </variable>
                  <variable name="xOffButton">
                    <type>
                      <BOOL />
                    </type>
                  </variable>
                  <variable name="xServiceKey">
                    <type>
                      <BOOL />
                    </type>
                  </variable>
                  <variable name="xCardInserted">
                    <type>
                      <BOOL />
                    </type>
                  </variable>
                  <variable name="xCardEjected">
                    <type>
                      <BOOL />
                    </type>
                  </variable>
                  <variable name="xCancelButton">
                    <type>
                      <BOOL />
                    </type>
                  </variable>
                </inOutVars>
                <outputVars>
                  <variable name="ipState">
                    <type>
                      <derived name="I_State" />
                    </type>
                    <initialValue>
                      <simpleValue value="fbOff" />
                    </initialValue>
                  </variable>
                </outputVars>
                <localVars>
                  <variable name="fbOff">
                    <type>
                      <derived name="FB_Off" />
                    </type>
                    <addData>
                      <data name="http://www.3s-software.com/plcopenxml/inputassignments" handleUnknown="implementation">
                        <InputAssignments>
                          <InputAssignment>
                            <Value>THIS</Value>
                          </InputAssignment>
                        </InputAssignments>
                      </data>
                      <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                        <Attributes>
                          <Attribute Name="old_input_assignments" Value="" />
                        </Attributes>
                      </data>
                    </addData>
                  </variable>
                  <variable name="fbIdle">
                    <type>
                      <derived name="FB_Idle" />
                    </type>
                    <addData>
                      <data name="http://www.3s-software.com/plcopenxml/inputassignments" handleUnknown="implementation">
                        <InputAssignments>
                          <InputAssignment>
                            <Value>THIS</Value>
                          </InputAssignment>
                        </InputAssignments>
                      </data>
                      <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                        <Attributes>
                          <Attribute Name="old_input_assignments" Value="" />
                        </Attributes>
                      </data>
                    </addData>
                  </variable>
                  <variable name="fbMaintenance">
                    <type>
                      <derived name="FB_Maintenance" />
                    </type>
                    <addData>
                      <data name="http://www.3s-software.com/plcopenxml/inputassignments" handleUnknown="implementation">
                        <InputAssignments>
                          <InputAssignment>
                            <Value>THIS</Value>
                          </InputAssignment>
                        </InputAssignments>
                      </data>
                      <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                        <Attributes>
                          <Attribute Name="old_input_assignments" Value="" />
                        </Attributes>
                      </data>
                    </addData>
                  </variable>
                  <variable name="fbOutOfService">
                    <type>
                      <derived name="FB_OutOfService" />
                    </type>
                    <addData>
                      <data name="http://www.3s-software.com/plcopenxml/inputassignments" handleUnknown="implementation">
                        <InputAssignments>
                          <InputAssignment>
                            <Value>THIS</Value>
                          </InputAssignment>
                        </InputAssignments>
                      </data>
                      <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                        <Attributes>
                          <Attribute Name="old_input_assignments" Value="" />
                        </Attributes>
                      </data>
                    </addData>
                  </variable>
                  <variable name="fbSelfTest">
                    <type>
                      <derived name="FB_SelfTest" />
                    </type>
                    <addData>
                      <data name="http://www.3s-software.com/plcopenxml/inputassignments" handleUnknown="implementation">
                        <InputAssignments>
                          <InputAssignment>
                            <Value>THIS</Value>
                          </InputAssignment>
                        </InputAssignments>
                      </data>
                      <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                        <Attributes>
                          <Attribute Name="old_input_assignments" Value="" />
                        </Attributes>
                      </data>
                    </addData>
                  </variable>
                  <variable name="fbServingCustomer">
                    <type>
                      <derived name="FB_ServingCustomer" />
                    </type>
                    <addData>
                      <data name="http://www.3s-software.com/plcopenxml/inputassignments" handleUnknown="implementation">
                        <InputAssignments>
                          <InputAssignment>
                            <Value>THIS</Value>
                          </InputAssignment>
                        </InputAssignments>
                      </data>
                      <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                        <Attributes>
                          <Attribute Name="old_input_assignments" Value="" />
                        </Attributes>
                      </data>
                    </addData>
                  </variable>
                  <variable name="rtrigOnButton">
                    <type>
                      <derived name="R_TRIG" />
                    </type>
                  </variable>
                  <variable name="rtrigOffButton">
                    <type>
                      <derived name="R_TRIG" />
                    </type>
                  </variable>
                  <variable name="rtrigCancelButton">
                    <type>
                      <derived name="R_TRIG" />
                    </type>
                  </variable>
                  <variable name="rtrigCardInserted">
                    <type>
                      <derived name="R_TRIG" />
                    </type>
                  </variable>
                  <variable name="rtrigCardEjected">
                    <type>
                      <derived name="R_TRIG" />
                    </type>
                  </variable>
                  <variable name="Sim_TimerTester">
                    <type>
                      <derived name="TON" />
                    </type>
                    <initialValue>
                      <structValue>
                        <value member="PT">
                          <simpleValue value="TIME#3s0ms" />
                        </value>
                      </structValue>
                    </initialValue>
                    <documentation>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml"> Simulation Variables</xhtml>
                    </documentation>
                  </variable>
                  <variable name="Sim_TimerTransaction">
                    <type>
                      <derived name="TON" />
                    </type>
                    <initialValue>
                      <structValue>
                        <value member="PT">
                          <simpleValue value="TIME#3s0ms" />
                        </value>
                      </structValue>
                    </initialValue>
                  </variable>
                  <variable name="Sim_xFaultSystem">
                    <type>
                      <BOOL />
                    </type>
                  </variable>
                </localVars>
                <addData>
                  <data name="http://www.3s-software.com/plcopenxml/pouinheritance" handleUnknown="implementation">
                    <Inheritance>
                      <Implements>I_Machine</Implements>
                    </Inheritance>
                  </data>
                </addData>
              </interface>
              <body>
                <ST>
                  <xhtml xmlns="http://www.w3.org/1999/xhtml">rtrigOnButton(CLK:= xOnButton);
rtrigOffButton(CLK:= xOffButton);
rtrigCancelButton(CLK:= xCancelButton);
rtrigCardInserted(CLK:= xCardInserted);
rtrigCardEjected(CLK:= xCardEjected);


IF rtrigOnButton.Q THEN
	ipState.Turn_On();
END_IF

IF rtrigOffButton.Q THEN
	ipState.Turn_Off();
END_IF

IF rtrigCancelButton.Q THEN
	ipState.Cancel();
END_IF

IF rtrigCardInserted.Q THEN
	ipState.Card_Inserted();
END_IF

IF rtrigCardEjected.Q THEN
	ipState.Card_Ejected();
END_IF


IF (ipState.Description = E_StateDescription.Idle OR ipState.Description = E_StateDescription.OutOfService) AND xServiceKey THEN
	ipState.Service();
END_IF

IF ipState.Description = E_StateDescription.Maintenance AND NOT xServiceKey THEN
	ipState.Op();
END_IF



// Simulation Variables - Remove and tie to I/O for moving forward
Sim_TimerTester(IN := ipState.Description = E_StateDescription.SelfTest);
IF Sim_TimerTester.Q AND NOT Sim_xFaultSystem THEN
	ipState.SystemTest_OK();
ELSIF Sim_TimerTester.Q  AND Sim_xFaultSystem THEN
	ipState.Failure();
END_IF

Sim_TimerTransaction(IN := ipState.Description = E_StateDescription.ServingCustomer);
IF Sim_TimerTransaction.Q AND NOT Sim_xFaultSystem THEN
	ipState.Card_Ejected();
ELSIF Sim_TimerTransaction.Q AND Sim_xFaultSystem THEN
	ipState.Failure();
END_IF</xhtml>
                </ST>
              </body>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="FB_Init" ObjectId="ce773053-8282-0701-3e9b-278f6e290085">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                      <inputVars>
                        <variable name="bInitRetains">
                          <type>
                            <BOOL />
                          </type>
                          <documentation>
                            <xhtml xmlns="http://www.w3.org/1999/xhtml"> if TRUE, the retain variables are initialized (warm start / cold start)</xhtml>
                          </documentation>
                        </variable>
                        <variable name="bInCopyCode">
                          <type>
                            <BOOL />
                          </type>
                          <documentation>
                            <xhtml xmlns="http://www.w3.org/1999/xhtml"> if TRUE, the instance afterwards gets moved into the copy code (online change)</xhtml>
                          </documentation>
                        </variable>
                      </inputVars>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD FB_Init : BOOL
VAR_INPUT
	(* if TRUE, the retain variables are initialized (warm start / cold start)*)
	bInitRetains	: BOOL;
	(* if TRUE, the instance afterwards gets moved into the copy code (online change)*)
	bInCopyCode	: BOOL;
END_VAR
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="SetState" ObjectId="e086c591-e6bf-0cc4-2e48-3fa7b37689a8">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                      <inputVars>
                        <variable name="newState">
                          <type>
                            <derived name="I_State" />
                          </type>
                          <documentation>
                            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Set the new state to transition</xhtml>
                          </documentation>
                        </variable>
                      </inputVars>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml">THIS^.ipState := newState;</xhtml>
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD SetState : BOOL
VAR_INPUT
	(* Set the new state to transition*)
	newState	: I_State;
END_VAR
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/property" handleUnknown="implementation">
                  <Property name="IdleState" ObjectId="a1eb420a-8ed4-0616-0e2d-1b421e89e9f7">
                    <interface>
                      <returnType>
                        <derived name="I_State" />
                      </returnType>
                    </interface>
                    <GetAccessor>
                      <interface />
                      <body>
                        <ST>
                          <xhtml xmlns="http://www.w3.org/1999/xhtml">IdleState := This^.fbIdle;</xhtml>
                        </ST>
                      </body>
                      <InterfaceAsPlainText>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml">VAR
END_VAR
</xhtml>
                      </InterfaceAsPlainText>
                      <addData />
                    </GetAccessor>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY IdleState : I_State
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Property>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/property" handleUnknown="implementation">
                  <Property name="MaintenanceState" ObjectId="0d2eccca-8fde-0c97-338b-7bf862c57529">
                    <interface>
                      <returnType>
                        <derived name="I_State" />
                      </returnType>
                    </interface>
                    <GetAccessor>
                      <interface />
                      <body>
                        <ST>
                          <xhtml xmlns="http://www.w3.org/1999/xhtml">MaintenanceState := THIS^.fbMaintenance;</xhtml>
                        </ST>
                      </body>
                      <InterfaceAsPlainText>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml">VAR
END_VAR
</xhtml>
                      </InterfaceAsPlainText>
                      <addData />
                    </GetAccessor>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY MaintenanceState : I_State
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Property>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/property" handleUnknown="implementation">
                  <Property name="OffState" ObjectId="778f5332-0e63-0b0d-3511-d2fbdaaabd9f">
                    <interface>
                      <returnType>
                        <derived name="I_State" />
                      </returnType>
                    </interface>
                    <GetAccessor>
                      <interface />
                      <body>
                        <ST>
                          <xhtml xmlns="http://www.w3.org/1999/xhtml">OffState := THIS^.fbOff;</xhtml>
                        </ST>
                      </body>
                      <InterfaceAsPlainText>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml">VAR
END_VAR
</xhtml>
                      </InterfaceAsPlainText>
                      <addData />
                    </GetAccessor>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY OffState : I_State
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Property>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/property" handleUnknown="implementation">
                  <Property name="OutOfServiceState" ObjectId="37dde534-1593-0bb3-1839-9b22f775f6ff">
                    <interface>
                      <returnType>
                        <derived name="I_State" />
                      </returnType>
                    </interface>
                    <GetAccessor>
                      <interface />
                      <body>
                        <ST>
                          <xhtml xmlns="http://www.w3.org/1999/xhtml">OutOfServiceState := THIS^.fbOutOfService;</xhtml>
                        </ST>
                      </body>
                      <InterfaceAsPlainText>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml">VAR
END_VAR
</xhtml>
                      </InterfaceAsPlainText>
                      <addData />
                    </GetAccessor>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY OutOfServiceState : I_State
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Property>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/property" handleUnknown="implementation">
                  <Property name="SelfTestState" ObjectId="f9ba6c6d-bc6a-0ee2-3713-e8984d8cdffd">
                    <interface>
                      <returnType>
                        <derived name="I_State" />
                      </returnType>
                    </interface>
                    <GetAccessor>
                      <interface />
                      <body>
                        <ST>
                          <xhtml xmlns="http://www.w3.org/1999/xhtml">SelfTestState := THIS^.fbSelfTest;</xhtml>
                        </ST>
                      </body>
                      <InterfaceAsPlainText>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml">VAR
END_VAR
</xhtml>
                      </InterfaceAsPlainText>
                      <addData />
                    </GetAccessor>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY SelfTestState : I_State
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Property>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/property" handleUnknown="implementation">
                  <Property name="ServingCustomerState" ObjectId="c17c9037-7517-0bab-3d8f-95edf2b02d76">
                    <interface>
                      <returnType>
                        <derived name="I_State" />
                      </returnType>
                    </interface>
                    <GetAccessor>
                      <interface />
                      <body>
                        <ST>
                          <xhtml xmlns="http://www.w3.org/1999/xhtml">ServingCustomerState := THIS^.fbServingCustomer;</xhtml>
                        </ST>
                      </body>
                      <InterfaceAsPlainText>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml">VAR
END_VAR
</xhtml>
                      </InterfaceAsPlainText>
                      <addData />
                    </GetAccessor>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY ServingCustomerState : I_State
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Property>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/interfaceasplaintext" handleUnknown="implementation">
                  <InterfaceAsPlainText>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">FUNCTION_BLOCK FB_ATM_Machine IMPLEMENTS I_Machine
VAR_IN_OUT
	xOnButton		:	BOOL;
	xOffButton		:	BOOL;
	xServiceKey		:	BOOL;
	xCardInserted	:	BOOL;
	xCardEjected	:	BOOL;
	xCancelButton	:	BOOL;
END_VAR
VAR_OUTPUT
	ipState	:	I_State	:=	fbOff;
END_VAR
VAR
	fbOff				:	FB_Off(THIS);
	fbIdle				:	FB_Idle(THIS);
	fbMaintenance		:	FB_Maintenance(THIS);
	fbOutOfService		:	FB_OutOfService(THIS);
	fbSelfTest			:	FB_SelfTest(THIS);
	fbServingCustomer	:	FB_ServingCustomer(THIS);
	
	rtrigOnButton		:	R_TRIG;
	rtrigOffButton		:	R_TRIG;
	rtrigCancelButton	:	R_TRIG;
	rtrigCardInserted	:	R_TRIG;
	rtrigCardEjected	:	R_TRIG;
	
	// Simulation Variables
	Sim_TimerTester		:	TON 	:= (PT := T#3S);
	Sim_TimerTransaction:	TON 	:= (PT := T#3S);	
	Sim_xFaultSystem	: 	BOOL;
END_VAR
</xhtml>
                  </InterfaceAsPlainText>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
                  <ObjectId>5b7d0fad-4689-0734-192c-cc09349922d8</ObjectId>
                </data>
              </addData>
            </pou>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/pou" handleUnknown="implementation">
            <pou name="MAIN" pouType="program">
              <interface>
                <localVars>
                  <variable name="ATM_Machine">
                    <type>
                      <derived name="FB_ATM_Machine" />
                    </type>
                  </variable>
                  <variable name="xOn">
                    <type>
                      <BOOL />
                    </type>
                  </variable>
                  <variable name="xOff">
                    <type>
                      <BOOL />
                    </type>
                  </variable>
                  <variable name="xCancel">
                    <type>
                      <BOOL />
                    </type>
                  </variable>
                  <variable name="xService">
                    <type>
                      <BOOL />
                    </type>
                  </variable>
                  <variable name="xCardInserted">
                    <type>
                      <BOOL />
                    </type>
                  </variable>
                  <variable name="xCardEjected">
                    <type>
                      <BOOL />
                    </type>
                  </variable>
                  <variable name="ipCurrentState">
                    <type>
                      <derived name="I_State" />
                    </type>
                  </variable>
                  <variable name="CurrentStateDescription">
                    <type>
                      <string />
                    </type>
                  </variable>
                </localVars>
              </interface>
              <body>
                <ST>
                  <xhtml xmlns="http://www.w3.org/1999/xhtml">ATM_Machine(
	xOnButton:= xOn, 
	xOffButton:= xOff, 
	xCancelButton:= xCancel,
	xServiceKey	:= xService, 
	xCardInserted := xCardInserted,
	xCardEjected := xCardEjected,
	ipState=&gt; ipCurrentState);
	
	
xOn				:= FALSE;
xOff			:= FALSE;
xCancel			:= FALSE;
xCardInserted	:= FALSE;
xCardEjected	:= FALSE;


CASE ipCurrentState.Description OF 
	E_StateDescription.Undefined :
						CurrentStateDescription := 'ATM is in undefined state, please contact the bank.';
	E_StateDescription.Off :	
						CurrentStateDescription := 'ATM is turned off.';
	E_StateDescription.SelfTest :
						CurrentStateDescription := CONCAT('ATM is in self test, current status: ', TIME_TO_STRING(ATM_Machine.Sim_TimerTester.ET));
	E_StateDescription.Maintenance : 
						CurrentStateDescription := 'Maintenance Mode';	
	E_StateDescription.OutOfService : 	
						CurrentStateDescription := 'ATM is out of service, please contact bank.';	
	E_StateDescription.Idle :			
						CurrentStateDescription := 'Please enter card or maintenance key.';	
	E_StateDescription.ServingCustomer :
						CurrentStateDescription := CONCAT('ATM is performing transaction, current status: ', TIME_TO_STRING(ATM_Machine.Sim_TimerTransaction.ET));
END_CASE                                </xhtml>
                </ST>
              </body>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/interfaceasplaintext" handleUnknown="implementation">
                  <InterfaceAsPlainText>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">PROGRAM MAIN
VAR
	ATM_Machine 			: FB_ATM_Machine;
	
	xOn						:	BOOL;
	xOff					:	BOOL;
	xCancel					:	BOOL;
	xService				:	BOOL;
	xCardInserted			:	BOOL;
	xCardEjected			:	BOOL;
	ipCurrentState			:	I_State;
	CurrentStateDescription	:	STRING;


END_VAR
</xhtml>
                  </InterfaceAsPlainText>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
                  <ObjectId>7be32b7f-6126-44c4-a8f3-2ea9e08f62d5</ObjectId>
                </data>
              </addData>
            </pou>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/pou" handleUnknown="implementation">
            <pou name="FB_Idle" pouType="functionBlock">
              <interface>
                <inputVars>
                  <variable name="pATM_Machine">
                    <type>
                      <pointer>
                        <baseType>
                          <derived name="FB_ATM_Machine" />
                        </baseType>
                      </pointer>
                    </type>
                    <documentation>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml"> Pointer to the ATM Machine</xhtml>
                    </documentation>
                  </variable>
                </inputVars>
                <addData>
                  <data name="http://www.3s-software.com/plcopenxml/pouinheritance" handleUnknown="implementation">
                    <Inheritance>
                      <Implements>I_State</Implements>
                    </Inheritance>
                  </data>
                </addData>
              </interface>
              <body>
                <ST>
                  <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                </ST>
              </body>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Cancel" ObjectId="65abf8fa-bea9-0656-26b8-1130a620e2a5">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Cancel : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Card_Ejected" ObjectId="529bb744-2dd3-091b-0da9-4215e7aa3d79">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Card_Ejected : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Card_Inserted" ObjectId="4a45be97-fabb-0bf6-3e82-4d00f394dbe8">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml">ADSLOGSTR(ADSLOG_MSGTYPE_LOG, 'Card has been inserted!', '');
pATM_Machine^.SetState(pATM_Machine^.ServingCustomerState);</xhtml>
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Card_Inserted : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Failure" ObjectId="1a918f8a-e3c3-04cc-3136-10375b9740ac">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Failure : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="FB_Init" ObjectId="c511d069-a148-0ad4-3acd-b9033977d1e7">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                      <inputVars>
                        <variable name="bInitRetains">
                          <type>
                            <BOOL />
                          </type>
                          <documentation>
                            <xhtml xmlns="http://www.w3.org/1999/xhtml"> if TRUE, the retain variables are initialized (warm start / cold start)</xhtml>
                          </documentation>
                        </variable>
                        <variable name="bInCopyCode">
                          <type>
                            <BOOL />
                          </type>
                          <documentation>
                            <xhtml xmlns="http://www.w3.org/1999/xhtml"> if TRUE, the instance afterwards gets moved into the copy code (online change)</xhtml>
                          </documentation>
                        </variable>
                        <variable name="pATM_Machine">
                          <type>
                            <pointer>
                              <baseType>
                                <derived name="FB_ATM_Machine" />
                              </baseType>
                            </pointer>
                          </type>
                          <documentation>
                            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Pointer to the ATM Machine</xhtml>
                          </documentation>
                        </variable>
                      </inputVars>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml">THIS^.pATM_Machine := pATM_Machine;</xhtml>
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD FB_Init : BOOL
VAR_INPUT
	(* if TRUE, the retain variables are initialized (warm start / cold start)*)
	bInitRetains	: BOOL;
	(* if TRUE, the instance afterwards gets moved into the copy code (online change)*)
	bInCopyCode	: BOOL;
	(* Pointer to the ATM Machine*)
	pATM_Machine	: POINTER TO FB_ATM_Machine;
END_VAR
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Op" ObjectId="d58a9927-21a9-057d-2612-bf7827879517">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Op : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Service" ObjectId="528a5b81-39cb-0ad8-390a-c4aba054ca09">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml">ADSLOGSTR(ADSLOG_MSGTYPE_LOG, 'Entering Service Mode...', '');
pATM_Machine^.SetState(pATM_Machine^.MaintenanceState);</xhtml>
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Service : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="SystemTest_OK" ObjectId="4d033fde-e0c2-0cdc-2375-e8648799e634">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD SystemTest_OK : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Turn_Off" ObjectId="67b1520e-2467-05df-32c1-7bd367dd3066">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml">ADSLOGSTR(ADSLOG_MSGTYPE_LOG, 'Turning off machine...', '');
pATM_Machine^.SetState(pATM_Machine^.OffState);</xhtml>
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Turn_Off : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Turn_On" ObjectId="7891db3f-3e8c-02e0-0648-e26dcab5460c">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Turn_On : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/property" handleUnknown="implementation">
                  <Property name="Description" ObjectId="32d6cbbd-8d4f-077c-1475-851fe7226d1c">
                    <interface>
                      <returnType>
                        <derived name="E_StateDescription" />
                      </returnType>
                    </interface>
                    <GetAccessor>
                      <interface />
                      <body>
                        <ST>
                          <xhtml xmlns="http://www.w3.org/1999/xhtml">Description := E_StateDescription.Idle;</xhtml>
                        </ST>
                      </body>
                      <InterfaceAsPlainText>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml">VAR
END_VAR
</xhtml>
                      </InterfaceAsPlainText>
                      <addData />
                    </GetAccessor>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY Description : E_StateDescription
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Property>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/interfaceasplaintext" handleUnknown="implementation">
                  <InterfaceAsPlainText>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">FUNCTION_BLOCK FB_Idle IMPLEMENTS I_State
VAR_INPUT
	(* Pointer to the ATM Machine*)
	pATM_Machine	: POINTER TO FB_ATM_Machine;
END_VAR
VAR_OUTPUT
END_VAR
VAR
END_VAR
</xhtml>
                  </InterfaceAsPlainText>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
                  <ObjectId>08375453-5d76-0934-1a95-46e42d833973</ObjectId>
                </data>
              </addData>
            </pou>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/pou" handleUnknown="implementation">
            <pou name="FB_Maintenance" pouType="functionBlock">
              <interface>
                <inputVars>
                  <variable name="pATM_Machine">
                    <type>
                      <pointer>
                        <baseType>
                          <derived name="FB_ATM_Machine" />
                        </baseType>
                      </pointer>
                    </type>
                    <documentation>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml"> Pointer to the ATM Machine</xhtml>
                    </documentation>
                  </variable>
                </inputVars>
                <addData>
                  <data name="http://www.3s-software.com/plcopenxml/pouinheritance" handleUnknown="implementation">
                    <Inheritance>
                      <Implements>I_State</Implements>
                    </Inheritance>
                  </data>
                </addData>
              </interface>
              <body>
                <ST>
                  <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                </ST>
              </body>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Cancel" ObjectId="fc6c514b-2a24-0485-0094-7f9672024860">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Cancel : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Card_Ejected" ObjectId="f0c20272-59ca-04aa-17cf-f0dc9b6e6caa">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Card_Ejected : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Card_Inserted" ObjectId="8c8901b8-6177-09cf-0171-70900555bba1">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Card_Inserted : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Failure" ObjectId="5c7b77fb-733d-070b-292d-1bd3ac175be9">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Failure : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="FB_Init" ObjectId="724c03c1-3a42-00fb-371d-203832591578">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                      <inputVars>
                        <variable name="bInitRetains">
                          <type>
                            <BOOL />
                          </type>
                          <documentation>
                            <xhtml xmlns="http://www.w3.org/1999/xhtml"> if TRUE, the retain variables are initialized (warm start / cold start)</xhtml>
                          </documentation>
                        </variable>
                        <variable name="bInCopyCode">
                          <type>
                            <BOOL />
                          </type>
                          <documentation>
                            <xhtml xmlns="http://www.w3.org/1999/xhtml"> if TRUE, the instance afterwards gets moved into the copy code (online change)</xhtml>
                          </documentation>
                        </variable>
                        <variable name="pATM_Machine">
                          <type>
                            <pointer>
                              <baseType>
                                <derived name="FB_ATM_Machine" />
                              </baseType>
                            </pointer>
                          </type>
                          <documentation>
                            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Pointer to the ATM Machine</xhtml>
                          </documentation>
                        </variable>
                      </inputVars>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml">THIS^.pATM_Machine := pATM_Machine;</xhtml>
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD FB_Init : BOOL
VAR_INPUT
	(* if TRUE, the retain variables are initialized (warm start / cold start)*)
	bInitRetains	: BOOL;
	(* if TRUE, the instance afterwards gets moved into the copy code (online change)*)
	bInCopyCode	: BOOL;
	(* Pointer to the ATM Machine*)
	pATM_Machine	: POINTER TO FB_ATM_Machine;
END_VAR
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Op" ObjectId="d5b1852a-c23d-0073-23f0-eda99df56713">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml">ADSLOGSTR(ADSLOG_MSGTYPE_LOG, 'Exiting Service mode, going to self test', '');
pATM_Machine^.SetState(pATM_Machine^.SelfTestState);</xhtml>
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Op : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Service" ObjectId="5643db20-9040-00ed-10c1-8d0666a21e31">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Service : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="SystemTest_OK" ObjectId="e4e24f0f-5074-0c16-0c9d-ff973e36ac56">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD SystemTest_OK : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Turn_Off" ObjectId="904c14f7-b1ec-0e92-0ab3-92a000c17c86">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Turn_Off : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Turn_On" ObjectId="77c37fbd-c644-01ab-24b8-e342a38b3aae">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Turn_On : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/property" handleUnknown="implementation">
                  <Property name="Description" ObjectId="9563a445-e11a-0e6c-0c59-44fdd0b4d03f">
                    <interface>
                      <returnType>
                        <derived name="E_StateDescription" />
                      </returnType>
                    </interface>
                    <GetAccessor>
                      <interface />
                      <body>
                        <ST>
                          <xhtml xmlns="http://www.w3.org/1999/xhtml">Description := E_StateDescription.Maintenance;</xhtml>
                        </ST>
                      </body>
                      <InterfaceAsPlainText>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml">VAR
END_VAR
</xhtml>
                      </InterfaceAsPlainText>
                      <addData />
                    </GetAccessor>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY Description : E_StateDescription
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Property>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/interfaceasplaintext" handleUnknown="implementation">
                  <InterfaceAsPlainText>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">FUNCTION_BLOCK FB_Maintenance IMPLEMENTS I_State
VAR_INPUT
	(* Pointer to the ATM Machine*)
	pATM_Machine	: POINTER TO FB_ATM_Machine;
END_VAR
VAR_OUTPUT
END_VAR
VAR
END_VAR
</xhtml>
                  </InterfaceAsPlainText>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
                  <ObjectId>422bee07-fab0-086f-2f20-2f473840af98</ObjectId>
                </data>
              </addData>
            </pou>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/pou" handleUnknown="implementation">
            <pou name="FB_Off" pouType="functionBlock">
              <interface>
                <inputVars>
                  <variable name="pATM_Machine">
                    <type>
                      <pointer>
                        <baseType>
                          <derived name="FB_ATM_Machine" />
                        </baseType>
                      </pointer>
                    </type>
                    <documentation>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml"> Pointer to the ATM Machine</xhtml>
                    </documentation>
                  </variable>
                </inputVars>
                <addData>
                  <data name="http://www.3s-software.com/plcopenxml/pouinheritance" handleUnknown="implementation">
                    <Inheritance>
                      <Implements>I_State</Implements>
                    </Inheritance>
                  </data>
                </addData>
              </interface>
              <body>
                <ST>
                  <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                </ST>
              </body>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Cancel" ObjectId="e3a6cfd6-6764-0ca5-3403-c5b3f56cd495">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Cancel : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Card_Ejected" ObjectId="1c835f53-df5b-0715-2dc8-72b18fbcec93">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Card_Ejected : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Card_Inserted" ObjectId="2426d402-ea1d-097c-3df2-009aefb9d42b">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Card_Inserted : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Failure" ObjectId="73f3ab78-6cbd-01ce-0db9-9456e1f7b559">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Failure : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="FB_Init" ObjectId="8ffe180d-8c71-0b11-1655-ea2db27e5031">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                      <inputVars>
                        <variable name="bInitRetains">
                          <type>
                            <BOOL />
                          </type>
                          <documentation>
                            <xhtml xmlns="http://www.w3.org/1999/xhtml"> if TRUE, the retain variables are initialized (warm start / cold start)</xhtml>
                          </documentation>
                        </variable>
                        <variable name="bInCopyCode">
                          <type>
                            <BOOL />
                          </type>
                          <documentation>
                            <xhtml xmlns="http://www.w3.org/1999/xhtml"> if TRUE, the instance afterwards gets moved into the copy code (online change)</xhtml>
                          </documentation>
                        </variable>
                        <variable name="pATM_Machine">
                          <type>
                            <pointer>
                              <baseType>
                                <derived name="FB_ATM_Machine" />
                              </baseType>
                            </pointer>
                          </type>
                          <documentation>
                            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Pointer to the ATM Machine</xhtml>
                          </documentation>
                        </variable>
                      </inputVars>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml">THIS^.pATM_Machine := pATM_Machine;</xhtml>
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD FB_Init : BOOL
VAR_INPUT
	(* if TRUE, the retain variables are initialized (warm start / cold start)*)
	bInitRetains	: BOOL;
	(* if TRUE, the instance afterwards gets moved into the copy code (online change)*)
	bInCopyCode	: BOOL;
	(* Pointer to the ATM Machine*)
	pATM_Machine	: POINTER TO FB_ATM_Machine;
END_VAR
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Op" ObjectId="47dc5cca-e0fc-01e7-28c5-c1653130abde">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Op : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Service" ObjectId="6ffc26dc-e3cc-06c8-0c08-82df71cb91b5">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Service : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="SystemTest_OK" ObjectId="46dc5e76-4dd6-0eac-1ba8-ab13362276aa">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD SystemTest_OK : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Turn_Off" ObjectId="c404dd17-467e-07fc-3ffd-8d27099a5005">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml">ADSLOGSTR(ADSLOG_MSGTYPE_LOG, 'Machine is already off!', '');</xhtml>
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Turn_Off : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Turn_On" ObjectId="5f5279f7-f1fa-0345-248c-d404f98f194c">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml">ADSLOGSTR(ADSLOG_MSGTYPE_LOG, 'Turning on machine...', '');
pATM_Machine^.SetState(pATM_Machine^.SelfTestState);</xhtml>
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Turn_On : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/property" handleUnknown="implementation">
                  <Property name="Description" ObjectId="1255de27-539f-0603-0eb2-fe6707b9ed99">
                    <interface>
                      <returnType>
                        <derived name="E_StateDescription" />
                      </returnType>
                    </interface>
                    <GetAccessor>
                      <interface />
                      <body>
                        <ST>
                          <xhtml xmlns="http://www.w3.org/1999/xhtml">Description := E_StateDescription.Off;</xhtml>
                        </ST>
                      </body>
                      <InterfaceAsPlainText>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml">VAR
END_VAR
</xhtml>
                      </InterfaceAsPlainText>
                      <addData />
                    </GetAccessor>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY Description : E_StateDescription
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Property>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/interfaceasplaintext" handleUnknown="implementation">
                  <InterfaceAsPlainText>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">FUNCTION_BLOCK FB_Off IMPLEMENTS I_State
VAR_INPUT
	(* Pointer to the ATM Machine*)
	pATM_Machine	: POINTER TO FB_ATM_Machine;
END_VAR
VAR_OUTPUT
END_VAR
VAR
END_VAR
</xhtml>
                  </InterfaceAsPlainText>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
                  <ObjectId>77e4ed3a-e16e-0567-22df-368777bf9b32</ObjectId>
                </data>
              </addData>
            </pou>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/pou" handleUnknown="implementation">
            <pou name="FB_OutOfService" pouType="functionBlock">
              <interface>
                <inputVars>
                  <variable name="pATM_Machine">
                    <type>
                      <pointer>
                        <baseType>
                          <derived name="FB_ATM_Machine" />
                        </baseType>
                      </pointer>
                    </type>
                    <documentation>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml"> Pointer to the ATM Machine</xhtml>
                    </documentation>
                  </variable>
                </inputVars>
                <addData>
                  <data name="http://www.3s-software.com/plcopenxml/pouinheritance" handleUnknown="implementation">
                    <Inheritance>
                      <Implements>I_State</Implements>
                    </Inheritance>
                  </data>
                </addData>
              </interface>
              <body>
                <ST>
                  <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                </ST>
              </body>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Cancel" ObjectId="9ffe729a-ed4e-0074-2a78-fee68c1f05b2">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Cancel : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Card_Ejected" ObjectId="6c51b482-94c3-0ac6-388a-851186b19f5c">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Card_Ejected : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Card_Inserted" ObjectId="56da786d-000b-02e7-17cf-16c9f8c4ec56">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Card_Inserted : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Failure" ObjectId="03454216-0922-0640-3f7d-0ed5f7654e0b">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Failure : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="FB_Init" ObjectId="fa6e6e68-dffe-0117-26d8-96e73a09489f">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                      <inputVars>
                        <variable name="bInitRetains">
                          <type>
                            <BOOL />
                          </type>
                          <documentation>
                            <xhtml xmlns="http://www.w3.org/1999/xhtml"> if TRUE, the retain variables are initialized (warm start / cold start)</xhtml>
                          </documentation>
                        </variable>
                        <variable name="bInCopyCode">
                          <type>
                            <BOOL />
                          </type>
                          <documentation>
                            <xhtml xmlns="http://www.w3.org/1999/xhtml"> if TRUE, the instance afterwards gets moved into the copy code (online change)</xhtml>
                          </documentation>
                        </variable>
                        <variable name="pATM_Machine">
                          <type>
                            <pointer>
                              <baseType>
                                <derived name="FB_ATM_Machine" />
                              </baseType>
                            </pointer>
                          </type>
                          <documentation>
                            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Pointer to the ATM Machine</xhtml>
                          </documentation>
                        </variable>
                      </inputVars>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml">THIS^.pATM_Machine := pATM_Machine;</xhtml>
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD FB_Init : BOOL
VAR_INPUT
	(* if TRUE, the retain variables are initialized (warm start / cold start)*)
	bInitRetains	: BOOL;
	(* if TRUE, the instance afterwards gets moved into the copy code (online change)*)
	bInCopyCode	: BOOL;
	(* Pointer to the ATM Machine*)
	pATM_Machine	: POINTER TO FB_ATM_Machine;
END_VAR
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Op" ObjectId="ea83443f-7c7a-0814-0a64-8bc75d8f7a89">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Op : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Service" ObjectId="f04780a3-6783-0dbc-266b-0f86bf43f3b3">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml">ADSLOGSTR(ADSLOG_MSGTYPE_LOG, 'Entering Service Mode...', '');
pATM_Machine^.SetState(pATM_Machine^.MaintenanceState);</xhtml>
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Service : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="SystemTest_OK" ObjectId="da0693fd-4085-035f-3b0d-a3f82054f4ae">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD SystemTest_OK : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Turn_Off" ObjectId="edd42c42-d61c-0274-0331-67a0e8de7e58">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml">ADSLOGSTR(ADSLOG_MSGTYPE_LOG, 'Turning off machine...', '');
pATM_Machine^.SetState(pATM_Machine^.OffState);</xhtml>
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Turn_Off : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Turn_On" ObjectId="83b4a46b-df13-0cc0-140b-518fc5d203ec">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Turn_On : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/property" handleUnknown="implementation">
                  <Property name="Description" ObjectId="b4293c98-a8e6-0fdb-1621-a432f1054519">
                    <interface>
                      <returnType>
                        <derived name="E_StateDescription" />
                      </returnType>
                    </interface>
                    <GetAccessor>
                      <interface />
                      <body>
                        <ST>
                          <xhtml xmlns="http://www.w3.org/1999/xhtml">Description := E_StateDescription.OutOfService;</xhtml>
                        </ST>
                      </body>
                      <InterfaceAsPlainText>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml">VAR
END_VAR
</xhtml>
                      </InterfaceAsPlainText>
                      <addData />
                    </GetAccessor>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY Description : E_StateDescription
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Property>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/interfaceasplaintext" handleUnknown="implementation">
                  <InterfaceAsPlainText>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">FUNCTION_BLOCK FB_OutOfService IMPLEMENTS I_State
VAR_INPUT
	(* Pointer to the ATM Machine*)
	pATM_Machine	: POINTER TO FB_ATM_Machine;
END_VAR
VAR_OUTPUT
END_VAR
VAR
END_VAR
</xhtml>
                  </InterfaceAsPlainText>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
                  <ObjectId>723d3d50-c51c-08c6-01e3-ca5a3f6f5f5f</ObjectId>
                </data>
              </addData>
            </pou>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/pou" handleUnknown="implementation">
            <pou name="FB_SelfTest" pouType="functionBlock">
              <interface>
                <inputVars>
                  <variable name="pATM_Machine">
                    <type>
                      <pointer>
                        <baseType>
                          <derived name="FB_ATM_Machine" />
                        </baseType>
                      </pointer>
                    </type>
                    <documentation>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml"> Pointer to the ATM Machine</xhtml>
                    </documentation>
                  </variable>
                </inputVars>
                <addData>
                  <data name="http://www.3s-software.com/plcopenxml/pouinheritance" handleUnknown="implementation">
                    <Inheritance>
                      <Implements>I_State</Implements>
                    </Inheritance>
                  </data>
                </addData>
              </interface>
              <body>
                <ST>
                  <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                </ST>
              </body>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Cancel" ObjectId="ec583400-85a2-0439-03ef-a260f6c24af6">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Cancel : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Card_Ejected" ObjectId="241d4a32-2c17-08a8-2247-391cc109267f">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Card_Ejected : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Card_Inserted" ObjectId="5dfbfab2-9050-0470-38d9-060a24f08e38">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Card_Inserted : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Failure" ObjectId="02401ffa-9399-0930-3b2c-286699b159c8">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml">ADSLOGSTR(ADSLOG_MSGTYPE_LOG, 'System Test Fail, going to Out of Service', '');
pATM_Machine^.SetState(pATM_Machine^.OutOfServiceState);</xhtml>
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Failure : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="FB_Init" ObjectId="2ba494aa-bbc3-0f48-1716-5635010fb2f5">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                      <inputVars>
                        <variable name="bInitRetains">
                          <type>
                            <BOOL />
                          </type>
                          <documentation>
                            <xhtml xmlns="http://www.w3.org/1999/xhtml"> if TRUE, the retain variables are initialized (warm start / cold start)</xhtml>
                          </documentation>
                        </variable>
                        <variable name="bInCopyCode">
                          <type>
                            <BOOL />
                          </type>
                          <documentation>
                            <xhtml xmlns="http://www.w3.org/1999/xhtml"> if TRUE, the instance afterwards gets moved into the copy code (online change)</xhtml>
                          </documentation>
                        </variable>
                        <variable name="pATM_Machine">
                          <type>
                            <pointer>
                              <baseType>
                                <derived name="FB_ATM_Machine" />
                              </baseType>
                            </pointer>
                          </type>
                          <documentation>
                            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Pointer to the ATM Machine</xhtml>
                          </documentation>
                        </variable>
                      </inputVars>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml">THIS^.pATM_Machine := pATM_Machine;</xhtml>
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD FB_Init : BOOL
VAR_INPUT
	(* if TRUE, the retain variables are initialized (warm start / cold start)*)
	bInitRetains	: BOOL;
	(* if TRUE, the instance afterwards gets moved into the copy code (online change)*)
	bInCopyCode	: BOOL;
	(* Pointer to the ATM Machine*)
	pATM_Machine	: POINTER TO FB_ATM_Machine;
END_VAR
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Op" ObjectId="5a1a51f6-c898-05f2-1efd-750d1b4fe95c">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Op : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Service" ObjectId="b2723076-8d13-0f83-0514-3e1e79bed386">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Service : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="SystemTest_OK" ObjectId="08998860-6ca0-06a3-2122-3d229dad0ca4">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml">ADSLOGSTR(ADSLOG_MSGTYPE_LOG, 'System Test Pass, going to Idel', '');
pATM_Machine^.SetState(pATM_Machine^.IdleState);</xhtml>
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD SystemTest_OK : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Turn_Off" ObjectId="7e765441-1066-0b91-24ae-fa0271431b4f">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Turn_Off : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Turn_On" ObjectId="9a05e5cf-00c6-0992-1763-02b679060675">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Turn_On : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/property" handleUnknown="implementation">
                  <Property name="Description" ObjectId="49a17546-5a47-0724-13e3-9f9fa5de2c14">
                    <interface>
                      <returnType>
                        <derived name="E_StateDescription" />
                      </returnType>
                    </interface>
                    <GetAccessor>
                      <interface />
                      <body>
                        <ST>
                          <xhtml xmlns="http://www.w3.org/1999/xhtml">Description := E_StateDescription.SelfTest;</xhtml>
                        </ST>
                      </body>
                      <InterfaceAsPlainText>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml">VAR
END_VAR
</xhtml>
                      </InterfaceAsPlainText>
                      <addData />
                    </GetAccessor>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY Description : E_StateDescription
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Property>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/interfaceasplaintext" handleUnknown="implementation">
                  <InterfaceAsPlainText>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">FUNCTION_BLOCK FB_SelfTest IMPLEMENTS I_State
VAR_INPUT
	(* Pointer to the ATM Machine*)
	pATM_Machine	: POINTER TO FB_ATM_Machine;
END_VAR
VAR_OUTPUT
END_VAR
VAR
END_VAR
</xhtml>
                  </InterfaceAsPlainText>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
                  <ObjectId>bf530f68-0b58-001a-33dc-b8df2ba985a6</ObjectId>
                </data>
              </addData>
            </pou>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/pou" handleUnknown="implementation">
            <pou name="FB_ServingCustomer" pouType="functionBlock">
              <interface>
                <inputVars>
                  <variable name="pATM_Machine">
                    <type>
                      <pointer>
                        <baseType>
                          <derived name="FB_ATM_Machine" />
                        </baseType>
                      </pointer>
                    </type>
                    <documentation>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml"> Pointer to the ATM Machine</xhtml>
                    </documentation>
                  </variable>
                </inputVars>
                <addData>
                  <data name="http://www.3s-software.com/plcopenxml/pouinheritance" handleUnknown="implementation">
                    <Inheritance>
                      <Implements>I_State</Implements>
                    </Inheritance>
                  </data>
                </addData>
              </interface>
              <body>
                <ST>
                  <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                </ST>
              </body>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Cancel" ObjectId="0e0fe738-b3e9-0358-2d81-02f6cd38afb2">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml">ADSLOGSTR(ADSLOG_MSGTYPE_LOG, 'Transaction canceled, going to idle...', '');
pATM_Machine^.SetState(pATM_Machine^.IdleState);</xhtml>
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Cancel : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Card_Ejected" ObjectId="747865e4-dec6-08e9-384e-b8fa1a87fd13">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml">ADSLOGSTR(ADSLOG_MSGTYPE_LOG, 'Card has been ejected, going to idle...', '');
pATM_Machine^.SetState(pATM_Machine^.IdleState);</xhtml>
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Card_Ejected : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Card_Inserted" ObjectId="496c6b96-2532-0095-24e3-1ab072d73dc9">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Card_Inserted : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Failure" ObjectId="aeaf7ee5-2b0b-09ab-1796-fa68bbf06b98">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml">ADSLOGSTR(ADSLOG_MSGTYPE_LOG, 'Transaction failed, contact service...', '');
pATM_Machine^.SetState(pATM_Machine^.OutOfServiceState);</xhtml>
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Failure : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="FB_Init" ObjectId="f7335f31-dc20-01dd-07c2-500833277a92">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                      <inputVars>
                        <variable name="bInitRetains">
                          <type>
                            <BOOL />
                          </type>
                          <documentation>
                            <xhtml xmlns="http://www.w3.org/1999/xhtml"> if TRUE, the retain variables are initialized (warm start / cold start)</xhtml>
                          </documentation>
                        </variable>
                        <variable name="bInCopyCode">
                          <type>
                            <BOOL />
                          </type>
                          <documentation>
                            <xhtml xmlns="http://www.w3.org/1999/xhtml"> if TRUE, the instance afterwards gets moved into the copy code (online change)</xhtml>
                          </documentation>
                        </variable>
                        <variable name="pATM_Machine">
                          <type>
                            <pointer>
                              <baseType>
                                <derived name="FB_ATM_Machine" />
                              </baseType>
                            </pointer>
                          </type>
                          <documentation>
                            <xhtml xmlns="http://www.w3.org/1999/xhtml"> Pointer to the ATM Machine</xhtml>
                          </documentation>
                        </variable>
                      </inputVars>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml">THIS^.pATM_Machine := pATM_Machine;</xhtml>
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD FB_Init : BOOL
VAR_INPUT
	(* if TRUE, the retain variables are initialized (warm start / cold start)*)
	bInitRetains	: BOOL;
	(* if TRUE, the instance afterwards gets moved into the copy code (online change)*)
	bInCopyCode	: BOOL;
	(* Pointer to the ATM Machine*)
	pATM_Machine	: POINTER TO FB_ATM_Machine;
END_VAR
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Op" ObjectId="9249b1da-093c-0417-3d7d-fb694f350cc8">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Op : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Service" ObjectId="6fbae138-be53-0222-29db-22d42af02186">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Service : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="SystemTest_OK" ObjectId="058fed9a-4cbb-0ced-299f-a0df271f8cd4">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD SystemTest_OK : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Turn_Off" ObjectId="f7a7925a-d73d-0675-1999-5077c1979473">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Turn_Off : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="Turn_On" ObjectId="fdac9bf2-2e0e-06f4-364f-b3e5cdb12bf2">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Turn_On : BOOL
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/property" handleUnknown="implementation">
                  <Property name="Description" ObjectId="8489062d-1154-04dd-1950-3fc62e92bac3">
                    <interface>
                      <returnType>
                        <derived name="E_StateDescription" />
                      </returnType>
                    </interface>
                    <GetAccessor>
                      <interface />
                      <body>
                        <ST>
                          <xhtml xmlns="http://www.w3.org/1999/xhtml">Description := E_StateDescription.ServingCustomer;</xhtml>
                        </ST>
                      </body>
                      <InterfaceAsPlainText>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml">VAR
END_VAR
</xhtml>
                      </InterfaceAsPlainText>
                      <addData />
                    </GetAccessor>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY Description : E_StateDescription
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Property>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/interfaceasplaintext" handleUnknown="implementation">
                  <InterfaceAsPlainText>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">FUNCTION_BLOCK FB_ServingCustomer IMPLEMENTS I_State
VAR_INPUT
	(* Pointer to the ATM Machine*)
	pATM_Machine	: POINTER TO FB_ATM_Machine;
END_VAR
VAR_OUTPUT
END_VAR
VAR
END_VAR
</xhtml>
                  </InterfaceAsPlainText>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
                  <ObjectId>2169bdb5-0da4-0ea5-24fe-5fde7652ce39</ObjectId>
                </data>
              </addData>
            </pou>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/libraries" handleUnknown="implementation">
            <Libraries>
              <Library Name="#Tc2_Standard" Namespace="Tc2_Standard" HideWhenReferencedAsDependency="false" PublishSymbolsInContainer="false" SystemLibrary="false" LinkAllContent="false" DefaultResolution="Tc2_Standard, * (Beckhoff Automation GmbH)" />
              <Library Name="#Tc2_System" Namespace="Tc2_System" HideWhenReferencedAsDependency="false" PublishSymbolsInContainer="false" SystemLibrary="false" LinkAllContent="false" DefaultResolution="Tc2_System, * (Beckhoff Automation GmbH)" />
              <Library Name="#Tc3_Module" Namespace="Tc3_Module" HideWhenReferencedAsDependency="false" PublishSymbolsInContainer="false" SystemLibrary="false" LinkAllContent="false" DefaultResolution="Tc3_Module, * (Beckhoff Automation GmbH)" />
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
                  <ObjectId>d7d5c586-9e50-45aa-8e89-3425553decbd</ObjectId>
                </data>
              </addData>
            </Libraries>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>78a1bbd2-1d62-4577-9201-7e2468972a7e</ObjectId>
          </data>
        </addData>
      </resource>
    </data>
    <data name="http://www.3s-software.com/plcopenxml/projectstructure" handleUnknown="discard">
      <ProjectStructure>
        <Object Name="state" ObjectId="78a1bbd2-1d62-4577-9201-7e2468972a7e">
          <Object Name="Library Manager" ObjectId="d7d5c586-9e50-45aa-8e89-3425553decbd" />
          <Folder Name="Bank ATM">
            <Folder Name="DUTs">
              <Object Name="E_StateDescription" ObjectId="c7a59eda-44d9-04ee-31d3-5db7bf9ca168" />
            </Folder>
            <Folder Name="FBs">
              <Object Name="FB_Idle" ObjectId="08375453-5d76-0934-1a95-46e42d833973">
                <Object Name="Cancel" ObjectId="65abf8fa-bea9-0656-26b8-1130a620e2a5" />
                <Object Name="Card_Ejected" ObjectId="529bb744-2dd3-091b-0da9-4215e7aa3d79" />
                <Object Name="Card_Inserted" ObjectId="4a45be97-fabb-0bf6-3e82-4d00f394dbe8" />
                <Object Name="Description" ObjectId="32d6cbbd-8d4f-077c-1475-851fe7226d1c" />
                <Object Name="Failure" ObjectId="1a918f8a-e3c3-04cc-3136-10375b9740ac" />
                <Object Name="FB_Init" ObjectId="c511d069-a148-0ad4-3acd-b9033977d1e7" />
                <Object Name="Op" ObjectId="d58a9927-21a9-057d-2612-bf7827879517" />
                <Object Name="Service" ObjectId="528a5b81-39cb-0ad8-390a-c4aba054ca09" />
                <Object Name="SystemTest_OK" ObjectId="4d033fde-e0c2-0cdc-2375-e8648799e634" />
                <Object Name="Turn_Off" ObjectId="67b1520e-2467-05df-32c1-7bd367dd3066" />
                <Object Name="Turn_On" ObjectId="7891db3f-3e8c-02e0-0648-e26dcab5460c" />
              </Object>
              <Object Name="FB_Maintenance" ObjectId="422bee07-fab0-086f-2f20-2f473840af98">
                <Object Name="Cancel" ObjectId="fc6c514b-2a24-0485-0094-7f9672024860" />
                <Object Name="Card_Ejected" ObjectId="f0c20272-59ca-04aa-17cf-f0dc9b6e6caa" />
                <Object Name="Card_Inserted" ObjectId="8c8901b8-6177-09cf-0171-70900555bba1" />
                <Object Name="Description" ObjectId="9563a445-e11a-0e6c-0c59-44fdd0b4d03f" />
                <Object Name="Failure" ObjectId="5c7b77fb-733d-070b-292d-1bd3ac175be9" />
                <Object Name="FB_Init" ObjectId="724c03c1-3a42-00fb-371d-203832591578" />
                <Object Name="Op" ObjectId="d5b1852a-c23d-0073-23f0-eda99df56713" />
                <Object Name="Service" ObjectId="5643db20-9040-00ed-10c1-8d0666a21e31" />
                <Object Name="SystemTest_OK" ObjectId="e4e24f0f-5074-0c16-0c9d-ff973e36ac56" />
                <Object Name="Turn_Off" ObjectId="904c14f7-b1ec-0e92-0ab3-92a000c17c86" />
                <Object Name="Turn_On" ObjectId="77c37fbd-c644-01ab-24b8-e342a38b3aae" />
              </Object>
              <Object Name="FB_Off" ObjectId="77e4ed3a-e16e-0567-22df-368777bf9b32">
                <Object Name="Cancel" ObjectId="e3a6cfd6-6764-0ca5-3403-c5b3f56cd495" />
                <Object Name="Card_Ejected" ObjectId="1c835f53-df5b-0715-2dc8-72b18fbcec93" />
                <Object Name="Card_Inserted" ObjectId="2426d402-ea1d-097c-3df2-009aefb9d42b" />
                <Object Name="Description" ObjectId="1255de27-539f-0603-0eb2-fe6707b9ed99" />
                <Object Name="Failure" ObjectId="73f3ab78-6cbd-01ce-0db9-9456e1f7b559" />
                <Object Name="FB_Init" ObjectId="8ffe180d-8c71-0b11-1655-ea2db27e5031" />
                <Object Name="Op" ObjectId="47dc5cca-e0fc-01e7-28c5-c1653130abde" />
                <Object Name="Service" ObjectId="6ffc26dc-e3cc-06c8-0c08-82df71cb91b5" />
                <Object Name="SystemTest_OK" ObjectId="46dc5e76-4dd6-0eac-1ba8-ab13362276aa" />
                <Object Name="Turn_Off" ObjectId="c404dd17-467e-07fc-3ffd-8d27099a5005" />
                <Object Name="Turn_On" ObjectId="5f5279f7-f1fa-0345-248c-d404f98f194c" />
              </Object>
              <Object Name="FB_OutOfService" ObjectId="723d3d50-c51c-08c6-01e3-ca5a3f6f5f5f">
                <Object Name="Cancel" ObjectId="9ffe729a-ed4e-0074-2a78-fee68c1f05b2" />
                <Object Name="Card_Ejected" ObjectId="6c51b482-94c3-0ac6-388a-851186b19f5c" />
                <Object Name="Card_Inserted" ObjectId="56da786d-000b-02e7-17cf-16c9f8c4ec56" />
                <Object Name="Description" ObjectId="b4293c98-a8e6-0fdb-1621-a432f1054519" />
                <Object Name="Failure" ObjectId="03454216-0922-0640-3f7d-0ed5f7654e0b" />
                <Object Name="FB_Init" ObjectId="fa6e6e68-dffe-0117-26d8-96e73a09489f" />
                <Object Name="Op" ObjectId="ea83443f-7c7a-0814-0a64-8bc75d8f7a89" />
                <Object Name="Service" ObjectId="f04780a3-6783-0dbc-266b-0f86bf43f3b3" />
                <Object Name="SystemTest_OK" ObjectId="da0693fd-4085-035f-3b0d-a3f82054f4ae" />
                <Object Name="Turn_Off" ObjectId="edd42c42-d61c-0274-0331-67a0e8de7e58" />
                <Object Name="Turn_On" ObjectId="83b4a46b-df13-0cc0-140b-518fc5d203ec" />
              </Object>
              <Object Name="FB_SelfTest" ObjectId="bf530f68-0b58-001a-33dc-b8df2ba985a6">
                <Object Name="Cancel" ObjectId="ec583400-85a2-0439-03ef-a260f6c24af6" />
                <Object Name="Card_Ejected" ObjectId="241d4a32-2c17-08a8-2247-391cc109267f" />
                <Object Name="Card_Inserted" ObjectId="5dfbfab2-9050-0470-38d9-060a24f08e38" />
                <Object Name="Description" ObjectId="49a17546-5a47-0724-13e3-9f9fa5de2c14" />
                <Object Name="Failure" ObjectId="02401ffa-9399-0930-3b2c-286699b159c8" />
                <Object Name="FB_Init" ObjectId="2ba494aa-bbc3-0f48-1716-5635010fb2f5" />
                <Object Name="Op" ObjectId="5a1a51f6-c898-05f2-1efd-750d1b4fe95c" />
                <Object Name="Service" ObjectId="b2723076-8d13-0f83-0514-3e1e79bed386" />
                <Object Name="SystemTest_OK" ObjectId="08998860-6ca0-06a3-2122-3d229dad0ca4" />
                <Object Name="Turn_Off" ObjectId="7e765441-1066-0b91-24ae-fa0271431b4f" />
                <Object Name="Turn_On" ObjectId="9a05e5cf-00c6-0992-1763-02b679060675" />
              </Object>
              <Object Name="FB_ServingCustomer" ObjectId="2169bdb5-0da4-0ea5-24fe-5fde7652ce39">
                <Object Name="Cancel" ObjectId="0e0fe738-b3e9-0358-2d81-02f6cd38afb2" />
                <Object Name="Card_Ejected" ObjectId="747865e4-dec6-08e9-384e-b8fa1a87fd13" />
                <Object Name="Card_Inserted" ObjectId="496c6b96-2532-0095-24e3-1ab072d73dc9" />
                <Object Name="Description" ObjectId="8489062d-1154-04dd-1950-3fc62e92bac3" />
                <Object Name="Failure" ObjectId="aeaf7ee5-2b0b-09ab-1796-fa68bbf06b98" />
                <Object Name="FB_Init" ObjectId="f7335f31-dc20-01dd-07c2-500833277a92" />
                <Object Name="Op" ObjectId="9249b1da-093c-0417-3d7d-fb694f350cc8" />
                <Object Name="Service" ObjectId="6fbae138-be53-0222-29db-22d42af02186" />
                <Object Name="SystemTest_OK" ObjectId="058fed9a-4cbb-0ced-299f-a0df271f8cd4" />
                <Object Name="Turn_Off" ObjectId="f7a7925a-d73d-0675-1999-5077c1979473" />
                <Object Name="Turn_On" ObjectId="fdac9bf2-2e0e-06f4-364f-b3e5cdb12bf2" />
              </Object>
            </Folder>
            <Object Name="FB_ATM_Machine" ObjectId="5b7d0fad-4689-0734-192c-cc09349922d8">
              <Object Name="FB_Init" ObjectId="ce773053-8282-0701-3e9b-278f6e290085" />
              <Object Name="IdleState" ObjectId="a1eb420a-8ed4-0616-0e2d-1b421e89e9f7" />
              <Object Name="MaintenanceState" ObjectId="0d2eccca-8fde-0c97-338b-7bf862c57529" />
              <Object Name="OffState" ObjectId="778f5332-0e63-0b0d-3511-d2fbdaaabd9f" />
              <Object Name="OutOfServiceState" ObjectId="37dde534-1593-0bb3-1839-9b22f775f6ff" />
              <Object Name="SelfTestState" ObjectId="f9ba6c6d-bc6a-0ee2-3713-e8984d8cdffd" />
              <Object Name="ServingCustomerState" ObjectId="c17c9037-7517-0bab-3d8f-95edf2b02d76" />
              <Object Name="SetState" ObjectId="e086c591-e6bf-0cc4-2e48-3fa7b37689a8" />
            </Object>
            <Folder Name="ITFs">
              <Object Name="I_State" ObjectId="a1c71530-fa84-0bb0-3283-cd1f622ad3a9">
                <Object Name="Cancel" ObjectId="f6bb5175-37f0-0176-291d-a4d7620ac1d5" />
                <Object Name="Card_Ejected" ObjectId="2a05fd73-eee8-07e4-06be-b024194c550e" />
                <Object Name="Card_Inserted" ObjectId="b2d4e578-f718-0e93-0b18-a80f84b9017f" />
                <Object Name="Description" ObjectId="44bc2097-a004-0b24-1095-c71e11eeaf2b" />
                <Object Name="Failure" ObjectId="21c6a420-876b-0f5b-241e-27ee63e097b3" />
                <Object Name="Op" ObjectId="3a5100e4-d2c3-0577-3937-c05a43814309" />
                <Object Name="Service" ObjectId="94cbab84-9e89-079e-1c59-18b9122a858e" />
                <Object Name="SystemTest_OK" ObjectId="66832ca6-a287-098d-31cb-ca7c9c991d32" />
                <Object Name="Turn_Off" ObjectId="57f5bb9a-c5f8-0ce1-0804-28a0bdf1434e" />
                <Object Name="Turn_On" ObjectId="6119d6b8-41b5-08be-17d1-44b4e801e015" />
              </Object>
            </Folder>
            <Object Name="I_Machine" ObjectId="385b02b8-4c90-000e-1cc0-d2b7bcb5e7fd">
              <Object Name="IdleState" ObjectId="69b94608-4c85-0594-2f63-027d0ebff1dc" />
              <Object Name="MaintenanceState" ObjectId="7ea3e2a0-a1cd-04e9-2fcc-b3f427d30be9" />
              <Object Name="OffState" ObjectId="9d44e6c8-76c2-0ed9-3c52-a444909bd103" />
              <Object Name="OutOfServiceState" ObjectId="098329d7-47ec-065b-15cd-fb3438283417" />
              <Object Name="SelfTestState" ObjectId="764b3441-ddda-0c54-35a6-c7b74e7e70a5" />
              <Object Name="ServingCustomerState" ObjectId="2a88a98c-ad0b-0838-1b96-9abe0eeeb986" />
              <Object Name="SetState" ObjectId="46908751-132f-0880-358e-7ccbcdf64bd8" />
            </Object>
          </Folder>
          <Object Name="PlcTask" ObjectId="b9330d17-e98d-4967-8ae3-7c46b8ec3f29" />
          <Folder Name="POUs">
            <Object Name="MAIN" ObjectId="7be32b7f-6126-44c4-a8f3-2ea9e08f62d5" />
          </Folder>
        </Object>
      </ProjectStructure>
    </data>
  </addData>
</project>