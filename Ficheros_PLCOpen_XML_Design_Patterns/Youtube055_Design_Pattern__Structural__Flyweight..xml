<?xml version="1.0" encoding="utf-8"?>
<project xmlns="http://www.plcopen.org/xml/tc6_0200">
  <fileHeader companyName="Beckhoff Automation GmbH" productName="TwinCAT PLC Control" productVersion="3.5.13.21" creationDateTime="2024-03-19T10:41:02.6678208" />
  <contentHeader name="Flyweight" modificationDateTime="2024-03-19T10:41:02.6678208">
    <coordinateInfo>
      <fbd>
        <scaling x="1" y="1" />
      </fbd>
      <ld>
        <scaling x="1" y="1" />
      </ld>
      <sfc>
        <scaling x="1" y="1" />
      </sfc>
    </coordinateInfo>
    <addData>
      <data name="http://www.3s-software.com/plcopenxml/projectinformation" handleUnknown="implementation">
        <ProjectInformation />
      </data>
    </addData>
  </contentHeader>
  <types>
    <dataTypes />
    <pous />
  </types>
  <instances>
    <configurations />
  </instances>
  <addData>
    <data name="http://www.3s-software.com/plcopenxml/application" handleUnknown="implementation">
      <resource name="Flyweight">
        <task name="PlcTask" interval="PT0S" priority="20">
          <pouInstance name="MAIN" typeName="">
            <documentation>
              <xhtml xmlns="http://www.w3.org/1999/xhtml" />
            </documentation>
          </pouInstance>
          <addData>
            <data name="http://www.3s-software.com/plcopenxml/tasksettings" handleUnknown="implementation">
              <TaskSettings KindOfTask="Cyclic" Interval="10000" IntervalUnit="us">
                <Watchdog Enabled="false" TimeUnit="ms" />
              </TaskSettings>
            </data>
            <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
              <ObjectId>78cee965-9840-47c9-816e-97b8025f2590</ObjectId>
            </data>
          </addData>
        </task>
        <globalVars name="Param" constant="true">
          <variable name="iMaxArray">
            <type>
              <INT />
            </type>
            <initialValue>
              <simpleValue value="5" />
            </initialValue>
          </variable>
          <addData>
            <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
              <Attributes>
                <Attribute Name="parameterlist" Value="" />
                <Attribute Name="qualified_only" Value="" />
              </Attributes>
            </data>
            <data name="http://www.3s-software.com/plcopenxml/buildproperties" handleUnknown="implementation">
              <BuildProperties>
                <LinkAlways>true</LinkAlways>
              </BuildProperties>
            </data>
            <data name="http://www.3s-software.com/plcopenxml/interfaceasplaintext" handleUnknown="implementation">
              <InterfaceAsPlainText>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">{attribute 'qualified_only'}
VAR_GLOBAL CONSTANT
	iMaxArray : INT := 5;
END_VAR</xhtml>
              </InterfaceAsPlainText>
            </data>
            <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
              <ObjectId>3b8285a4-a667-47fe-aad6-a7680751710e</ObjectId>
            </data>
          </addData>
        </globalVars>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/interface" handleUnknown="implementation">
            <Interface name="I_Car" ObjectId="1b96b8e8-9a65-49bb-8085-4bf3ad7410e1">
              <Methods>
                <Method name="ShowDetails" ObjectId="cf005e4d-18a0-4fd2-912e-9e852cc9ebf7">
                  <interface>
                    <returnType>
                      <string />
                    </returnType>
                  </interface>
                  <InterfaceAsPlainText>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD PUBLIC ShowDetails : STRING

</xhtml>
                  </InterfaceAsPlainText>
                  <addData />
                </Method>
              </Methods>
              <InterfaceAsPlainText>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">INTERFACE I_Car
</xhtml>
              </InterfaceAsPlainText>
              <addData />
            </Interface>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/pou" handleUnknown="implementation">
            <pou name="Car" pouType="functionBlock">
              <interface>
                <localVars>
                  <variable name="_Color">
                    <type>
                      <string />
                    </type>
                  </variable>
                  <variable name="_Patent">
                    <type>
                      <string />
                    </type>
                  </variable>
                  <variable name="_Owner">
                    <type>
                      <string />
                    </type>
                  </variable>
                </localVars>
                <addData>
                  <data name="http://www.3s-software.com/plcopenxml/pouinheritance" handleUnknown="implementation">
                    <Inheritance>
                      <Implements>I_Car</Implements>
                    </Inheritance>
                  </data>
                  <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                    <Attributes>
                      <Attribute Name="enable_dynamic_creation" Value="" />
                    </Attributes>
                  </data>
                </addData>
              </interface>
              <body>
                <ST>
                  <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                </ST>
              </body>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="setColor" ObjectId="0bf56c6d-4167-4de9-9da9-fb262873e4ba">
                    <interface>
                      <inputVars>
                        <variable name="Color">
                          <type>
                            <string />
                          </type>
                        </variable>
                      </inputVars>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml">THIS^._Color := Color;</xhtml>
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD setColor
VAR_INPUT
	Color : STRING;
END_VAR
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="setOwner" ObjectId="5a10baa8-1d5f-4164-b45b-600932976025">
                    <interface>
                      <inputVars>
                        <variable name="Owner">
                          <type>
                            <string />
                          </type>
                        </variable>
                      </inputVars>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml"> THIS^._Owner := Owner;</xhtml>
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD setOwner
VAR_INPUT
	Owner : STRING;
END_VAR
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="setPatent" ObjectId="4c40430a-77dc-4411-bc74-fbeda01b5a27">
                    <interface>
                      <inputVars>
                        <variable name="Patent">
                          <type>
                            <string />
                          </type>
                        </variable>
                      </inputVars>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml">THIS^._Patent := Patent;</xhtml>
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD setPatent
VAR_INPUT
	Patent : STRING;
END_VAR
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="ShowDetails" ObjectId="ea9b9502-f0fc-4ff4-9211-e75e468e3985">
                    <interface>
                      <returnType>
                        <string />
                      </returnType>
                      <localVars>
                        <variable name="sPatent">
                          <type>
                            <string />
                          </type>
                        </variable>
                        <variable name="sColor">
                          <type>
                            <string />
                          </type>
                        </variable>
                        <variable name="sOwner">
                          <type>
                            <string />
                          </type>
                        </variable>
                      </localVars>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml">
sPatent := CONCAT(STR1:='Patent: ' , STR2:= THIS^._Patent);
sColor 	:= CONCAT(STR1:=', Color: ' , STR2:= THIS^._Color);
sOwner 	:= CONCAT(STR1:=', Owner: ' , STR2:= THIS^._Owner);

ShowDetails := CONCAT(STR1:= sPatent , STR2:= CONCAT(STR1:= sColor , STR2:= sOwner));
</xhtml>
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">
METHOD ShowDetails : STRING
VAR
	sPatent : STRING;
	sColor	: STRING;
	sOwner	: STRING;
END_VAR
</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/interfaceasplaintext" handleUnknown="implementation">
                  <InterfaceAsPlainText>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">{attribute 'enable_dynamic_creation'}
FUNCTION_BLOCK Car IMPLEMENTS I_Car
VAR
	_Color : STRING;
	_Patent : STRING;
	_Owner : STRING;
END_VAR</xhtml>
                  </InterfaceAsPlainText>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
                  <ObjectId>a73f2103-9645-4a3b-a073-dedb121232e1</ObjectId>
                </data>
              </addData>
            </pou>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/pou" handleUnknown="implementation">
            <pou name="FlyweightFactory" pouType="functionBlock">
              <interface>
                <localVars>
                  <variable name="pCar">
                    <type>
                      <pointer>
                        <baseType>
                          <derived name="Car" />
                        </baseType>
                      </pointer>
                    </type>
                  </variable>
                </localVars>
              </interface>
              <body>
                <ST>
                  <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                </ST>
              </body>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="FB_exit" ObjectId="273b177d-7a52-4b2e-9ed3-430eebf8cbe9">
                    <interface>
                      <returnType>
                        <BOOL />
                      </returnType>
                      <inputVars>
                        <variable name="bInCopyCode">
                          <type>
                            <BOOL />
                          </type>
                          <documentation>
                            <xhtml xmlns="http://www.w3.org/1999/xhtml"> if TRUE, the exit method is called for exiting an instance that is copied afterwards (online change).</xhtml>
                          </documentation>
                        </variable>
                      </inputVars>
                      <localVars>
                        <variable name="i">
                          <type>
                            <INT />
                          </type>
                        </variable>
                      </localVars>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml">
//FOR i := 1 TO Param.iMaxArray BY 1 DO
	
	IF (pCar &lt;&gt; 0) THEN
		
    	__DELETE(pCar);
 
	END_IF
	
//END_FOR</xhtml>
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">
METHOD FB_exit : BOOL
VAR_INPUT
	bInCopyCode : BOOL; // if TRUE, the exit method is called for exiting an instance that is copied afterwards (online change).
END_VAR
VAR
	i : INT;
END_VAR

</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
                  <Method name="ListCars" ObjectId="d9c15eba-ef0c-42d6-b3b7-e21fe7784d26">
                    <interface>
                      <inputVars>
                        <variable name="Color">
                          <type>
                            <array>
                              <dimension lower="1" upper="Param.iMaxArray" />
                              <baseType>
                                <string />
                              </baseType>
                            </array>
                          </type>
                        </variable>
                        <variable name="Patent">
                          <type>
                            <array>
                              <dimension lower="1" upper="Param.iMaxArray" />
                              <baseType>
                                <string />
                              </baseType>
                            </array>
                          </type>
                        </variable>
                        <variable name="Owner">
                          <type>
                            <array>
                              <dimension lower="1" upper="Param.iMaxArray" />
                              <baseType>
                                <string />
                              </baseType>
                            </array>
                          </type>
                        </variable>
                      </inputVars>
                      <localVars>
                        <variable name="i">
                          <type>
                            <INT />
                          </type>
                        </variable>
                      </localVars>
                    </interface>
                    <body>
                      <ST>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml">
IF (pCar = 0) THEN
				
	pCar := __NEW(Car);
	
END_IF		

FOR i := 1 TO Param.iMaxArray BY 1 DO
	
//	IF (pVehicle = 0) THEN
				
//		pVehicle := __NEW(Auto);
		
		pCar^.setColor(Color[i]);

		pCar^.setPatent(Patent[i]);	

		pCar^.setOwner(Owner[i]);				
		
 		ADSLOGSTR( msgCtrlMask := ADSLOG_MSGTYPE_HINT, msgFmtStr := 'Data Car: %s', strArg := pCar^.ShowDetails());
		
//		IF (pVehicle &lt;&gt; 0) THEN
		
//    		__DELETE(pVehicle);
 
//		END_IF
		
//	END_IF
	
END_FOR</xhtml>
                      </ST>
                    </body>
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">
METHOD PUBLIC ListCars
VAR_INPUT
	Color 	: ARRAY [1..Param.iMaxArray] OF STRING;
	Patent 	: ARRAY [1..Param.iMaxArray] OF STRING;
	Owner 	: ARRAY [1..Param.iMaxArray] OF STRING;
END_VAR
VAR
	i : INT;
END_VAR

</xhtml>
                    </InterfaceAsPlainText>
                    <addData />
                  </Method>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/interfaceasplaintext" handleUnknown="implementation">
                  <InterfaceAsPlainText>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">FUNCTION_BLOCK PUBLIC FlyweightFactory
VAR
	pCar : POINTER TO Car;
END_VAR
</xhtml>
                  </InterfaceAsPlainText>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
                  <ObjectId>ed95b631-e350-40c1-8a49-e3b7d2fb528b</ObjectId>
                </data>
              </addData>
            </pou>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/pou" handleUnknown="implementation">
            <pou name="MAIN" pouType="program">
              <interface>
                <localVars>
                  <variable name="Colors">
                    <type>
                      <array>
                        <dimension lower="1" upper="Param.iMaxArray" />
                        <baseType>
                          <string />
                        </baseType>
                      </array>
                    </type>
                    <initialValue>
                      <arrayValue>
                        <value>
                          <simpleValue value="'black'" />
                        </value>
                        <value>
                          <simpleValue value="'white'" />
                        </value>
                        <value>
                          <simpleValue value="'blue'" />
                        </value>
                        <value>
                          <simpleValue value="'green'" />
                        </value>
                        <value>
                          <simpleValue value="'brown'" />
                        </value>
                      </arrayValue>
                    </initialValue>
                  </variable>
                  <variable name="Patents">
                    <type>
                      <array>
                        <dimension lower="1" upper="Param.iMaxArray" />
                        <baseType>
                          <string />
                        </baseType>
                      </array>
                    </type>
                    <initialValue>
                      <arrayValue>
                        <value>
                          <simpleValue value="'patent11'" />
                        </value>
                        <value>
                          <simpleValue value="'patent22'" />
                        </value>
                        <value>
                          <simpleValue value="'patent33'" />
                        </value>
                        <value>
                          <simpleValue value="'patent44'" />
                        </value>
                        <value>
                          <simpleValue value="'patent55'" />
                        </value>
                      </arrayValue>
                    </initialValue>
                  </variable>
                  <variable name="Owners">
                    <type>
                      <array>
                        <dimension lower="1" upper="Param.iMaxArray" />
                        <baseType>
                          <string />
                        </baseType>
                      </array>
                    </type>
                    <initialValue>
                      <arrayValue>
                        <value>
                          <simpleValue value="'Victor'" />
                        </value>
                        <value>
                          <simpleValue value="'Jesus'" />
                        </value>
                        <value>
                          <simpleValue value="'Alex'" />
                        </value>
                        <value>
                          <simpleValue value="'Hugo'" />
                        </value>
                        <value>
                          <simpleValue value="'David'" />
                        </value>
                      </arrayValue>
                    </initialValue>
                  </variable>
                  <variable name="flyweightFactory">
                    <type>
                      <derived name="FlyweightFactory" />
                    </type>
                  </variable>
                  <variable name="bExecute">
                    <type>
                      <BOOL />
                    </type>
                  </variable>
                </localVars>
              </interface>
              <body>
                <ST>
                  <xhtml xmlns="http://www.w3.org/1999/xhtml">
IF bExecute THEN
	
	flyweightFactory.ListCars(Colors, Patents, Owners);
	
	bExecute := FALSE;
	
END_IF
</xhtml>
                </ST>
              </body>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/interfaceasplaintext" handleUnknown="implementation">
                  <InterfaceAsPlainText>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">PROGRAM MAIN
VAR
	Colors 		: ARRAY [1..Param.iMaxArray] OF STRING  := ['black', 'white', 'blue', 'green', 'brown' ];
	Patents 	: ARRAY [1..Param.iMaxArray] OF STRING  := ['patent11', 'patent22', 'patent33', 'patent44', 'patent55'];
	Owners 		: ARRAY [1..Param.iMaxArray] OF STRING  := ['Victor', 'Jesus', 'Alex', 'Hugo', 'David'];
	
	flyweightFactory : FlyweightFactory;
	
	bExecute : BOOL;
		
END_VAR
</xhtml>
                  </InterfaceAsPlainText>
                </data>
                <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
                  <ObjectId>a4f1767e-4acc-4b93-b2f0-631d28e4380e</ObjectId>
                </data>
              </addData>
            </pou>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/libraries" handleUnknown="implementation">
            <Libraries>
              <Library Name="#Tc2_Standard" Namespace="Tc2_Standard" HideWhenReferencedAsDependency="false" PublishSymbolsInContainer="false" SystemLibrary="false" LinkAllContent="false" DefaultResolution="Tc2_Standard, * (Beckhoff Automation GmbH)" />
              <Library Name="#Tc2_System" Namespace="Tc2_System" HideWhenReferencedAsDependency="false" PublishSymbolsInContainer="false" SystemLibrary="false" LinkAllContent="false" DefaultResolution="Tc2_System, * (Beckhoff Automation GmbH)">
                <Parameters>
                  <Parameter Name="PARAM.TABLE_UPPER_BOUND" Value="15" />
                  <Parameter Name="PARAM.STRING_LENGTH_EXP" Value="255" />
                  <Parameter Name="PARAM.STRING_LENGTH_ADDRESS" Value="20" />
                  <Parameter Name="PARAM.STRING_LENGTH_COMMENT" Value="255" />
                  <Parameter Name="PARAM.STRING_LENGTH_OUTSTRING" Value="255" />
                  <Parameter Name="PARAM.TABLE_SHOW_VALID_ITEMS" Value="FALSE" />
                </Parameters>
              </Library>
              <Library Name="#Tc3_Module" Namespace="Tc3_Module" HideWhenReferencedAsDependency="false" PublishSymbolsInContainer="false" SystemLibrary="false" LinkAllContent="false" DefaultResolution="Tc3_Module, * (Beckhoff Automation GmbH)" />
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
                  <ObjectId>5813152e-b55e-4f5e-9dbd-555aebbcb1c6</ObjectId>
                </data>
              </addData>
            </Libraries>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>46c16edb-9e29-404f-9508-1d3513282eee</ObjectId>
          </data>
        </addData>
      </resource>
    </data>
    <data name="http://www.3s-software.com/plcopenxml/projectstructure" handleUnknown="discard">
      <ProjectStructure>
        <Object Name="Flyweight" ObjectId="46c16edb-9e29-404f-9508-1d3513282eee">
          <Object Name="Library Manager" ObjectId="5813152e-b55e-4f5e-9dbd-555aebbcb1c6" />
          <Folder Name="Classes">
            <Object Name="Car" ObjectId="a73f2103-9645-4a3b-a073-dedb121232e1">
              <Object Name="setColor" ObjectId="0bf56c6d-4167-4de9-9da9-fb262873e4ba" />
              <Object Name="setOwner" ObjectId="5a10baa8-1d5f-4164-b45b-600932976025" />
              <Object Name="setPatent" ObjectId="4c40430a-77dc-4411-bc74-fbeda01b5a27" />
              <Object Name="ShowDetails" ObjectId="ea9b9502-f0fc-4ff4-9211-e75e468e3985" />
            </Object>
            <Object Name="FlyweightFactory" ObjectId="ed95b631-e350-40c1-8a49-e3b7d2fb528b">
              <Object Name="FB_exit" ObjectId="273b177d-7a52-4b2e-9ed3-430eebf8cbe9" />
              <Object Name="ListCars" ObjectId="d9c15eba-ef0c-42d6-b3b7-e21fe7784d26" />
            </Object>
          </Folder>
          <Folder Name="ITFs">
            <Object Name="I_Car" ObjectId="1b96b8e8-9a65-49bb-8085-4bf3ad7410e1">
              <Object Name="ShowDetails" ObjectId="cf005e4d-18a0-4fd2-912e-9e852cc9ebf7" />
            </Object>
          </Folder>
          <Object Name="Param" ObjectId="3b8285a4-a667-47fe-aad6-a7680751710e" />
          <Object Name="PlcTask" ObjectId="78cee965-9840-47c9-816e-97b8025f2590" />
          <Folder Name="POUs">
            <Object Name="MAIN" ObjectId="a4f1767e-4acc-4b93-b2f0-631d28e4380e" />
          </Folder>
        </Object>
      </ProjectStructure>
    </data>
  </addData>
</project>